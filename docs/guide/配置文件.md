---
outline: [2, 3]
---

# é…ç½®æŒ‡å—

Embykeeper éœ€è¦è¾“å…¥ä¸€ä¸ª `toml` æ ¼å¼çš„é…ç½®æ–‡ä»¶, é»˜è®¤ä¸º `config.toml`.

å½“é¦–æ¬¡è¿è¡Œæ—¶, ä¸€ä¸ªæ¨¡æ¿ `config.toml` æ–‡ä»¶å°†è¢«ç”Ÿæˆ (æ‚¨ä¹Ÿå¯ä»¥ä»[è¿™é‡Œ](https://github.com/emby-keeper/embykeeper/blob/main/config.example.toml)ä¸‹è½½).

<!--@include: ./_ç®€è¦é…ç½®.md-->

æ›´å¤šé…ç½®é¡¹è¯¦è§æ¨¡æ¿æ–‡ä»¶æ³¨é‡ŠåŠä¸‹æ–‡è¯¦ç»†è¯´æ˜.

## é…ç½®é¡¹ç›®

### é¡¶çº§é¡¹ç›®

| è®¾ç½®é¡¹       | å€¼ç±»å‹             | ç®€ä»‹                                         | é»˜è®¤å€¼               |
| ------------ | ------------------ | -------------------------------------------- | -------------------- |
| `time`       | `str`              | Telegram æœºå™¨äººç­¾åˆ°æ—¶é—´èŒƒå›´                  | `"<8:00AM,10:00AM>"` |
| `timeout`    | `int`              | Telegram æœºå™¨äººç­¾åˆ°è¶…æ—¶ (ç§’)                 | `120`                |
| `retries`    | `int`              | Telegram æœºå™¨äººç­¾åˆ°é”™è¯¯é‡è¯•æ¬¡æ•°              | `4`                  |
| `concurrent` | `int`              | Telegram æœºå™¨äººç­¾åˆ°æœ€å¤§å¹¶å‘                  | `1`                  |
| `random`     | `int`              | Telegram æœºå™¨äººç­¾åˆ°å„ç«™ç‚¹é—´æ—¶é—´éšæœºé‡ (åˆ†é’Ÿ) | `15`                 |
| `interval`   | `int`/`str`        | Emby ä¿æ´»é—´éš”å¤©æ•°, æˆ–é—´éš”å¤©æ•°èŒƒå›´            | `"<3,12>"`              |
| `notifier`   | `int`/`bool`/`str` | å‘é€é€šçŸ¥åˆ° Telegram è´¦å· (åºå·/æ‰‹æœºå·)       | `true`               |
| `service`    | `dict`             | ç­¾åˆ°/æ°´ç¾¤/ç›‘è§†åŠŸèƒ½å¼€å¯ç«™ç‚¹è®¾ç½®å­é¡¹           |                      |
| `proxy`      | `dict`             | ä»£ç†è®¾ç½®å­é¡¹                                 |                      |
| `telegram`   | `list`             | Telegram è´¦å·è®¾ç½®å­é¡¹ (æ”¯æŒå¤šè´¦å·)           |                      |
| `emby`       | `list`             | Emby è´¦å·è®¾ç½®å­é¡¹ (æ”¯æŒå¤šè´¦å·)               |                      |

### `service` å­é¡¹

è¯¥å­é¡¹ç”¨äºé…ç½®ç­¾åˆ°/æ°´ç¾¤/ç›‘è§†åŠŸèƒ½å¯ç”¨çš„ç«™ç‚¹.

| è®¾ç½®é¡¹      | å€¼ç±»å‹ | ç®€ä»‹           | é»˜è®¤å€¼               |
| ----------- | ------ | -------------- | -------------------- |
| `checkiner` | `list` | å¯ç”¨çš„ç­¾åˆ°ç«™ç‚¹ | (å½“å‰é»˜è®¤å¯ç”¨çš„ç«™ç‚¹) |
| `monitor`   | `list` | å¯ç”¨çš„ç›‘è§†ç«™ç‚¹ | (å½“å‰é»˜è®¤å¯ç”¨çš„ç«™ç‚¹) |
| `messager`  | `list` | å¯ç”¨çš„æ°´ç¾¤ç«™ç‚¹ | (å½“å‰é»˜è®¤å¯ç”¨çš„ç«™ç‚¹) |

ä¾‹å¦‚:

```toml
[service]
checkiner = ["charon", "embyhub", "jms", "ljyy", "magic", "peach", "pornemby", "sssq", "terminus"]
monitor = ["bgk", "embyhub", "pornemby_answer", "pornemby_double", "pornemby_dragon_rain", "pornemby_nohp", "viper"]
messager = ["pornemby"]
```

::: tip æç¤º
å¦‚æœä½ éœ€è¦ç¦ç”¨ä¸€ä¸ªç«™ç‚¹, è¯·ä½¿ç”¨ "é»˜è®¤ç«™ç‚¹å»æ‰éœ€ç¦ç”¨çš„ç«™ç‚¹".

å¦‚æœä½ éœ€è¦å¢åŠ ä¸€ä¸ªç«™ç‚¹, è¯·ä½¿ç”¨ "é»˜è®¤ç«™ç‚¹åŠ ä¸Šéœ€ç¦ç”¨çš„ç«™ç‚¹".
:::

å½“å‰æ”¯æŒçš„ç«™ç‚¹è¯·è§ [**ğŸ¬ æ”¯æŒçš„ç«™ç‚¹**](/guide/æ”¯æŒçš„ç«™ç‚¹).

::: details ç«™ç‚¹å°šæœªè¢«æ”¯æŒæ—¶ä½¿ç”¨æ¨¡æ¿åˆ›å»º

å¦‚æœæ‚¨çš„ç«™ç‚¹å°šæœªè¢«æ”¯æŒ, ä½†æ˜¯ç¬¦åˆä»¥ä¸‹é€šç”¨æ¨¡æ¿æ ¼å¼, å³å¯é€šè¿‡æ¨¡æ¿åˆ›å»º:

1. **`templ_a`**:

![templ_a](/templ_a_example.png)

å¯ä»¥ä½¿ç”¨ `templ_a<xxx>` æ ¼å¼å¯ç”¨, `xxx` ä¸ºæœºå™¨äººçš„ç”¨æˆ·å.
:::

### `proxy` å­é¡¹

è¯¥å­é¡¹ç”¨äºé…ç½®ç”¨äºè¿æ¥ Telegram å’Œ Emby æœåŠ¡å™¨çš„ä»£ç†. é»˜è®¤ä¸ä½¿ç”¨ä»£ç†.

| è®¾ç½®é¡¹     | å€¼ç±»å‹ | ç®€ä»‹                                    | é»˜è®¤å€¼ |
| ---------- | ------ | --------------------------------------- | ------ |
| `hostname` | `str`  | ä»£ç†æœåŠ¡å™¨åœ°å€                          |        |
| `port`     | `int`  | ä»£ç†ç«¯å£å·                              |        |
| `scheme`   | `str`  | ä»£ç†åè®®, å¯ä»¥ä¸º "`socks5`" æˆ– "`http`" |        |
| `username` | `str`  | ä»£ç†æœåŠ¡å™¨è®¤è¯ç”¨æˆ·å, ä¸å¡«ä¸ä½¿ç”¨è®¤è¯    |        |
| `password` | `str`  | ä»£ç†æœåŠ¡å™¨è®¤è¯å¯†ç , ä¸å¡«ä¸ä½¿ç”¨è®¤è¯      |        |

ä¾‹å¦‚:

```toml
[proxy]
hostname = "127.0.0.1"
port = 1080
scheme = "socks5"
```

### `telegram` å­é¡¹

è¯¥å­é¡¹ç”¨äºé…ç½®ä¸€ä¸ªæˆ–å¤šä¸ª Telegram è´¦æˆ·.

| è®¾ç½®é¡¹     | å€¼ç±»å‹ | ç®€ä»‹                                                               | é»˜è®¤å€¼  |
| ---------- | ------ | ------------------------------------------------------------------ | ------- |
| `phone`    | `str`  | å¸¦å›½å®¶åŒºå·çš„è´¦æˆ·æ‰‹æœºå·, ä¸€èˆ¬ä¸º "`+86...`"                          |         |
| `monitor`  | `bool` | å¯ç”¨ç¾¤ç»„ç›‘æ§ç³»åˆ—åŠŸèƒ½                                               | `false` |
| `send`     | `bool` | å¯ç”¨è‡ªåŠ¨æ°´ç¾¤ç³»åˆ—åŠŸèƒ½                                               | `false` |
| `api_id`   | `str`  | ä»[Telegram å®˜ç½‘](https://my.telegram.org/)ç”³è¯·çš„ Application ID   |         |
| `api_hash` | `str`  | ä»[Telegram å®˜ç½‘](https://my.telegram.org/)ç”³è¯·çš„ Application Hash |         |

å…¶ä¸­, `monitor` å’Œ `send` æ˜¯å„è´¦æˆ·çš„ç¾¤ç»„ç›‘æ§å’Œè‡ªåŠ¨æ°´ç¾¤å¼€å…³, ä¸[å‘½ä»¤è¡Œå‚æ•°](/guide/å‘½ä»¤è¡Œå‚æ•°#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E)ä¸­çš„å…¨å±€å¼€å…³æœ‰å·®å¼‚.

`api_id` å’Œ `api_hash` ä¸æ˜¯å¿…å¡«é¡¹, ä»…å½“ç¨‹åºå‡ºé”™å¹¶æç¤ºæ‚¨éœ€è¦è¯¥å‚æ•°æ—¶, æ‰éœ€è¦å¡«å…¥è¯¥å‚æ•°.

ä¾‹å¦‚:

```toml
[[telegram]]
phone = "+8616401875896"
send = false # ç¦ç”¨è¯¥è´¦å·çš„è‡ªåŠ¨æ°´ç¾¤åŠŸèƒ½
monitor = false # ç¦ç”¨è¯¥è´¦å·çš„è‡ªåŠ¨ç›‘æ§åŠŸèƒ½
```

```toml
[[telegram]]
phone = "+8616401875896"
send = true # å¯ç”¨è¯¥è´¦å·çš„è‡ªåŠ¨æ°´ç¾¤åŠŸèƒ½ (éœ€è¦é«˜çº§è´¦å·, è°¨æ…ä½¿ç”¨)
monitor = true # å¯ç”¨è¯¥è´¦å·çš„è‡ªåŠ¨ç›‘æ§åŠŸèƒ½ (éœ€è¦é«˜çº§è´¦å·)
```

::: tip æ³¨æ„
`telegram` ç»„æ ‡é¢˜ç”±ä¸¤ä¸ªä¸­æ‹¬å·å›´èµ·.
:::

### `emby` å­é¡¹

è¯¥å­é¡¹ç”¨äºé…ç½®ä¸€ä¸ªæˆ–å¤šä¸ª Emby è´¦æˆ·.

| è®¾ç½®é¡¹           | å€¼ç±»å‹ | ç®€ä»‹                                                                                | é»˜è®¤å€¼       |
| ---------------- | ------ | ----------------------------------------------------------------------------------- | ------------ |
| `url`            | `str`  | Emby æœåŠ¡å™¨åœ°å€<br>ä¸€èˆ¬ä¸º "`https://...:443`" æˆ– "`https://...:8096`"               |              |
| `username`       | `str`  | Emby æœåŠ¡å™¨ç”¨æˆ·å                                                                   |              |
| `password`       | `str`  | Emby æœåŠ¡å™¨å¯†ç                                                                      |              |
| `time`           | `list` | æ¨¡æ‹Ÿè§‚çœ‹çš„éšæœºæ—¶é—´èŒƒå›´ (ç§’)                                                         | `[120, 240]` |
| `jellyfin`       | `bool` | æ˜¯å¦æ˜¯ jellyfin ç«™ç‚¹è€Œé emby ç«™ç‚¹                                                  | `false`      |
| `continuous`     | `bool` | æ˜¯å¦æ‰§è¡Œé•¿è¿è¡Œæ¨¡å¼, è¯¦è§ [**ğŸ¬ åŠŸèƒ½è¯´æ˜**](/guide/åŠŸèƒ½è¯´æ˜-è‡ªåŠ¨ä¿æ´»#é•¿è¿è¡Œæ¨¡å¼)     | `false`      |
| `allow_multiple` | `bool` | `true`: å…è®¸æ’­æ”¾å¤šä¸ªè§†é¢‘ç›´åˆ°è¾¾åˆ°æ—¶é—´è¦æ±‚ <br> `false`: å¯»æ‰¾å•ä¸ªæ—¶é—´è¾¾æ ‡è§†é¢‘è¿›è¡Œæ’­æ”¾ | `true`       |
| `device`         | `str`  | è‡ªå®šä¹‰çš„è®¾å¤‡åç§° (é»˜è®¤æ¨¡æ‹Ÿ Fileball)                                                |              |
| `client`         | `str`  | è‡ªå®šä¹‰çš„ç”¨æˆ·ä»£ç† (é»˜è®¤æ¨¡æ‹Ÿ Fileball)                                                |              |
| `ua`             | `str`  | è‡ªå®šä¹‰çš„ç”¨æˆ·ä»£ç† (é»˜è®¤æ¨¡æ‹Ÿ Fileball)                                                |              |

ç”±äºæ¯ä¸ªæœåŠ¡å™¨çš„æ´»è·ƒæ£€æµ‹æœºåˆ¶ä¸åŒ, è¯·è‡ªè¡Œè®¾å®šå‚æ•°. é»˜è®¤å‚æ•°å·²é€‚åº”å¤§éƒ¨åˆ†æœçš„ä¿æ´»è¦æ±‚.

ä¾‹å¦‚:

```toml
[[emby]]
url = "https://richards.info/"
username = "lisaharrington"
password = "VN3Uznu4*B"
time = [120, 240] # æ¨¡æ‹Ÿè§‚çœ‹çš„æ—¶é•¿ (ç§’)
```

::: tip æ³¨æ„
`emby` ç»„æ ‡é¢˜ç”±ä¸¤ä¸ªä¸­æ‹¬å·å›´èµ·.
:::

### å…¶ä»–çš„ç‰¹å®šç«™ç‚¹é…ç½®å­é¡¹

å¦‚æœæ‚¨éœ€è¦åœ¨æŸäº›ç«™ç‚¹æ¯éš”å‡ å¤©ç­¾åˆ°ä¸€æ¬¡, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[monitor.terminus] # æ”¯æŒä»»ä½•ç­¾åˆ°ç«™
skip = 5 # æ¯éš” 5 å¤©ç­¾åˆ° 1 å¤©, å³ 6 å¤©ç­¾åˆ°ä¸€æ¬¡
```

å¦‚æœæ‚¨éœ€è¦åœ¨è‡ªåŠ¨æŠ¢æ³¨æ—¶è‡ªå®šä¹‰ç”¨æˆ·å, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[monitor.bgk] # æ”¯æŒ bgk, embyhub, future, infinity_fly, judog, misty, polo, viper
unique_name = "your_username_for_registeration" # è‡ªåŠ¨æŠ¢æ³¨æ—¶ä½¿ç”¨çš„ç”¨æˆ·å
```

å¦‚æœæ‚¨éœ€è¦åœ¨ `Pornemby` è‡ªåŠ¨å›ç­”é—®é¢˜æ—¶, ä»…å½“é—®é¢˜å†å²ä¸­æ‰¾åˆ°ç­”æ¡ˆæ—¶è‡ªåŠ¨å›ç­”, ä¿è¯ç™¾åˆ†ç™¾å‡†ç¡®ç‡, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[monitor.pornemby_answer]
only_history = true # ä»…å½“é—®é¢˜å†å²ä¸­æ‰¾åˆ°ç­”æ¡ˆæ—¶è‡ªåŠ¨å›ç­”
```

å¦‚æœæ‚¨éœ€è¦åœ¨ `Pornemby` è‡ªåŠ¨å›ç­”é—®é¢˜æ—¶, ä¸€å®šæ¦‚ç‡ä¸å›ç­”, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[monitor.pornemby_answer]
possibility = 0.7 # 70% æ¦‚ç‡å›ç­”, 30% æ¦‚ç‡ä¸å›ç­”
```

å¦‚æœæ‚¨éœ€è¦åœ¨ `Pornemby` æŠ¢é¾™ç‹é›¨çº¢åŒ…æ—¶, ä¸€å®šæ¦‚ç‡ä¸æŠ¢, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[monitor.pornemby_dragon_rain]
possibility = 0.3 # 30% æ¦‚ç‡æŠ¢, 70% æ¦‚ç‡ä¸æŠ¢
```

å¦‚æœæ‚¨éœ€è¦åœ¨ `Pornemby` è‡ªåŠ¨æ°´ç¾¤æ—¶, è‡ªå®šä¹‰æ¡æ•°, æ‚¨éœ€è¦åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ :

```toml
[messager.pornemby]
messages = ["pornemby-common-wl@latest.yaml * 100"]
interval = 1800 # ä¸¤æ¬¡æ°´ç¾¤ä¹‹é—´æœ€å°é—´éš” (s)
```
